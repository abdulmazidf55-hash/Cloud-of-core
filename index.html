<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud of Core - Student Portal</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            overflow-x: hidden;
            background: #0a0f1e;
            color: #fff;
            position: relative;
        }

        /* ===== ABSTRACT PLEXUS NETWORK BACKGROUND ===== */
        #plexus-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: #0a0f1e;
        }
        
        .plexus-canvas {
            display: block;
            width: 100%;
            height: 100%;
            opacity: 0.6;
        }

        /* ===== LANDING PAGE STYLES ===== */
        #landing-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: #0a0f1e;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }
        #landing-page.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        /* Tech Animation Overlay */
        .tech-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 0%, #0a0f1e 100%);
            z-index: 1;
        }

        .landing-content {
            position: relative;
            text-align: center;
            z-index: 2;
        }
        
        .landing-logo {
            width: 300px;
            max-width: 80%;
            margin-bottom: 30px;
            filter: drop-shadow(0 0 30px rgba(0, 255, 255, 0.7));
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .glow-btn {
            padding: 16px 48px;
            font-size: 1.5rem;
            font-weight: bold;
            border: none;
            background: linear-gradient(45deg, #00ffff, #0088ff);
            color: #0a0f1e;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            transition: 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .glow-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 50px rgba(0, 255, 255, 0.8);
        }

        /* ===== MODAL STYLES ===== */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
        }
        .modal.show {
            display: flex;
            animation: modalFadeIn 0.3s;
        }
        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        .modal-content {
            background: #1e293b;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 0 50px #00ffff;
            text-align: center;
            border: 1px solid #00ffff;
        }
        .modal-content h2 {
            color: #00ffff;
            margin-bottom: 20px;
            text-shadow: 0 0 10px cyan;
        }
        .modal-content input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            background: #334155;
            color: white;
            border: 1px solid #00ffff33;
        }
        .modal-content input:focus {
            outline: none;
            border-color: cyan;
            box-shadow: 0 0 20px cyan;
        }
        .modal-content button {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            background: #00ffff;
            color: #0a0f1e;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        .modal-content button:hover {
            box-shadow: 0 0 30px cyan;
        }
        .switch-auth {
            color: #aaa;
            margin-top: 15px;
            cursor: pointer;
        }
        .switch-auth span {
            color: #00ffff;
            text-decoration: underline;
        }

        /* ===== MAIN APP STYLES ===== */
        #main-app {
            display: none;
            min-height: 100vh;
            flex-direction: column;
            background: transparent;
            position: relative;
            z-index: 10;
        }
        
        .header {
            background: rgba(30, 41, 59, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            box-shadow: 0 0 30px rgba(0,255,255,0.2);
            border-bottom: 1px solid cyan;
            position: relative;
            z-index: 100;
        }
        
        .header-logo {
            height: 50px;
            filter: drop-shadow(0 0 10px cyan);
        }
        
        .search-container {
            flex: 1;
            margin: 0 30px;
            position: relative;
        }
        
        #search-input {
            width: 100%;
            padding: 12px 20px;
            border: none;
            border-radius: 30px;
            background: #1e293b;
            color: white;
            font-size: 1rem;
            border: 1px solid #00ffff33;
        }
        #search-input:focus {
            outline: none;
            border-color: cyan;
            box-shadow: 0 0 20px cyan;
        }
        
        #search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: #1e293b;
            border-radius: 10px;
            margin-top: 5px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
            border: 1px solid cyan;
        }
        
        .search-item {
            padding: 12px 20px;
            border-bottom: 1px solid #334155;
            cursor: pointer;
            color: cyan;
            transition: 0.3s;
        }
        .search-item:hover {
            background: #00ffff;
            color: #0a0f1e;
        }
        
        .logout-btn {
            background: transparent;
            border: 1px solid #00ffff;
            color: #00ffff;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: 0.3s;
        }
        .logout-btn:hover {
            background: #00ffff;
            color: #0a0f1e;
            box-shadow: 0 0 30px cyan;
        }

        .main-content {
            flex: 1;
            padding: 40px;
            text-align: center;
            position: relative;
            z-index: 50;
            background: rgba(10, 15, 30, 0.7);
            backdrop-filter: blur(5px);
            margin: 20px;
            border-radius: 20px;
            border: 1px solid rgba(0, 255, 255, 0.1);
        }
        
        .main-logo {
            width: 250px;
            margin: 20px auto;
            filter: drop-shadow(0 0 30px cyan);
            animation: float 3s ease-in-out infinite;
        }
        
        .student-count {
            font-size: 2rem;
            margin: 20px 0;
            color: #00ffff;
            font-weight: bold;
            text-shadow: 0 0 20px cyan;
        }
        
        .batch-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        
        .batch-btn {
            padding: 12px 30px;
            border: 2px solid #00ffff;
            background: transparent;
            color: white;
            font-size: 1.2rem;
            border-radius: 40px;
            cursor: pointer;
            transition: 0.3s;
            text-shadow: 0 0 10px cyan;
        }
        .batch-btn:hover {
            background: #00ffff;
            color: #0a0f1e;
            box-shadow: 0 0 40px cyan;
            transform: scale(1.05);
        }

        /* Student List Styles */
        .student-list-container {
            margin: 30px 0;
            max-height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(5px);
            border-radius: 20px;
            border: 1px solid cyan;
        }
        
        .student-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            padding: 10px;
        }
        
        .student-card {
            background: rgba(30, 41, 59, 0.8);
            padding: 10px;
            border-radius: 10px;
            border: 1px solid #00ffff;
            cursor: pointer;
            transition: 0.3s;
            color: cyan;
            text-align: center;
            font-size: 0.9rem;
        }
        .student-card:hover {
            transform: scale(1.02);
            background: #00ffff;
            color: #0a0f1e;
            box-shadow: 0 0 30px cyan;
        }

        /* Popup Styles */
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .popup-overlay.show {
            display: flex;
            animation: popupFadeIn 0.3s;
        }
        
        @keyframes popupFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .popup-content {
            background: #1e293b;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            position: relative;
            border: 2px solid cyan;
            box-shadow: 0 0 50px cyan;
        }
        
        .popup-close {
            position: absolute;
            top: 15px;
            right: 15px;
            color: cyan;
            font-size: 24px;
            cursor: pointer;
            transition: 0.3s;
        }
        .popup-close:hover {
            transform: scale(1.2);
            text-shadow: 0 0 20px cyan;
        }
        
        .popup-title {
            color: cyan;
            font-size: 1.5rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .popup-body {
            color: white;
        }
        
        /* Info Tables inside Popup */
        .info-tables {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .info-tables table {
            flex: 1;
            min-width: 200px;
            border-collapse: collapse;
            background: #2d3748;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .info-tables th {
            background: cyan;
            color: #0a0f1e;
            padding: 12px;
        }
        
        .info-tables td {
            padding: 10px;
            border-bottom: 1px solid #4a5568;
            color: white;
        }

        /* Footer */
        .footer {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            padding: 50px 30px 20px;
            margin-top: 50px;
            border-top: 2px solid cyan;
            position: relative;
            z-index: 50;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }
        
        .footer-section h3 {
            color: cyan;
            margin-bottom: 20px;
            font-size: 1.3rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .footer-section p, .footer-section a {
            color: #aaa;
            line-height: 1.8;
            text-decoration: none;
            transition: 0.3s;
        }
        
        .footer-section a:hover {
            color: cyan;
            text-shadow: 0 0 10px cyan;
        }
        
        .social-links {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        .social-links a {
            color: cyan;
            font-size: 1.5rem;
            transition: 0.3s;
        }
        .social-links a:hover {
            transform: translateY(-5px);
            text-shadow: 0 0 20px cyan;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            margin-top: 30px;
            border-top: 1px solid #334155;
            color: #666;
        }
    </style>
</head>
<body>
    <!-- Plexus Network Background Canvas -->
    <canvas id="plexus-bg" class="plexus-canvas"></canvas>

    <!-- LANDING PAGE -->
    <div id="landing-page">
        <div class="tech-overlay"></div>
        <div class="landing-content">
            <img src="https://i.postimg.cc/kX3Xh6PG/IMG-20260211-135705-716-removebg-preview.png" alt="Logo" class="landing-logo">
            <br>
            <button class="glow-btn" onclick="showAuthModal()">üöÄ Go to Console</button>
        </div>
    </div>

    <!-- AUTH MODAL -->
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <h2>üîê Sign In</h2>
            <input type="email" id="email" placeholder="üìß Email">
            <input type="password" id="password" placeholder="üîë Password">
            <button id="auth-action-btn" onclick="handleAuth()">Sign In</button>
            <p class="switch-auth">Don't have an account? <span onclick="toggleAuthMode()">Sign Up</span></p>
            <p class="switch-auth" onclick="closeModal()">‚ùå Close</p>
        </div>
    </div>

    <!-- POPUP FOR STUDENT INFO / ERROR MESSAGES -->
    <div id="popup" class="popup-overlay">
        <div class="popup-content">
            <span class="popup-close" onclick="closePopup()">&times;</span>
            <div id="popup-content"></div>
        </div>
    </div>

    <!-- MAIN APP -->
    <div id="main-app">
        <div class="header">
            <img src="https://i.postimg.cc/kX3Xh6PG/IMG-20260211-135705-716-removebg-preview.png" alt="Logo" class="header-logo">
            <div class="search-container">
                <input type="text" id="search-input" placeholder="üîç Search students by name..." oninput="searchStudents(this.value)">
                <div id="search-results"></div>
            </div>
            <button class="logout-btn" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
        </div>

        <div class="main-content">
            <img src="https://i.postimg.cc/kX3Xh6PG/IMG-20260211-135705-716-removebg-preview.png" alt="Logo" class="main-logo">
            <div class="student-count" id="total-students-display">üìä 2026 Total Students: 1852</div>

            <div class="batch-buttons">
                <button class="batch-btn" onclick="showBatchStudents('301')">üéì 301 Batch (900)</button>
                <button class="batch-btn" onclick="showBatchStudents('302')">üéì 302 Batch (300)</button>
                <button class="batch-btn" onclick="showBatchStudents('303')">üéì 303 Batch (300)</button>
                <button class="batch-btn" onclick="showBatchStudents('304')">üéì 304 Batch (318)</button>
                <button class="batch-btn" onclick="showBatchStudents('305')">üéì 305 Batch (4)</button>
            </div>

            <div id="student-list-container" class="student-list-container" style="display: none;">
                <h3 style="color: cyan; margin-bottom: 20px;" id="batch-title"></h3>
                <div id="student-grid" class="student-grid"></div>
            </div>
        </div>

        <!-- FOOTER -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>üî∑ About Cloud of Core</h3>
                    <p>Cloud of Core is a premier educational technology platform dedicated to nurturing the next generation of tech leaders. Established in 2020, we have trained over 5000+ students in cutting-edge technologies including Cloud Computing, AI, and Cybersecurity.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-github"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>üîó Quick Links</h3>
                    <p><a href="#">üìå About Us</a></p>
                    <p><a href="#">üìå Our Programs</a></p>
                    <p><a href="#">üìå Success Stories</a></p>
                    <p><a href="#">üìå Tech Blog</a></p>
                    <p><a href="#">üìå Careers</a></p>
                    <p><a href="#">üìå Alumni Network</a></p>
                </div>
                
                <div class="footer-section">
                    <h3>üìç Contact Information</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Tech Park, Silicon Valley, CA 94025, USA</p>
                    <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                    <p><i class="fas fa-envelope"></i> info@cloudofcore.com</p>
                    <p><i class="fas fa-globe"></i> www.cloudofcore.com</p>
                    <p><i class="fas fa-clock"></i> Mon-Fri: 9:00 AM - 6:00 PM (PST)</p>
                </div>
                
                <div class="footer-section">
                    <h3>üéØ Our Mission</h3>
                    <p>"Empowering students with industry-relevant skills through innovative learning methods and real-world project experience. We bridge the gap between academia and industry."</p>
                    <p style="margin-top: 15px; color: cyan;">üåü Join us in shaping the future of technology.</p>
                    <p style="margin-top: 10px;"><i class="fas fa-award"></i> ISO 27001 Certified</p>
                    <p><i class="fas fa-trophy"></i> Best EdTech Award 2025</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2026 Cloud of Core. All rights reserved. | <a href="#" style="color: cyan;">Privacy Policy</a> | <a href="#" style="color: cyan;">Terms of Service</a> | <a href="#" style="color: cyan;">Sitemap</a></p>
                <p style="margin-top: 10px; font-size: 0.9rem;">Designed with <i class="fas fa-heart" style="color: cyan;"></i> for the global tech community</p>
                <p style="margin-top: 5px; font-size: 0.8rem;">Version 2.0.1 | Last Updated: February 2026</p>
            </div>
        </footer>
    </div>

    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyDZjU69H4bIEHvQ5OeEAbVNt8ay8XF4178",
            authDomain: "cloudofcore-e7554.firebaseapp.com",
            projectId: "cloudofcore-e7554",
            storageBucket: "cloudofcore-e7554.firebasestorage.app",
            messagingSenderId: "965527739763",
            appId: "1:965527739763:web:c451eb823bc4daa6007906",
            measurementId: "G-BGETFS0LSL"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // ===== PLEXUS NETWORK BACKGROUND =====
        function initPlexus() {
            const canvas = document.getElementById('plexus-bg');
            const ctx = canvas.getContext('2d');
            let width, height;
            let particles = [];
            const particleCount = 100;
            const connectionDistance = 150;
            const mouseRadius = 100;
            let mouseX = null, mouseY = null;

            function resize() {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
            }

            function createParticles() {
                for (let i = 0; i < particleCount; i++) {
                    particles.push({
                        x: Math.random() * width,
                        y: Math.random() * height,
                        vx: (Math.random() - 0.5) * 0.5,
                        vy: (Math.random() - 0.5) * 0.5,
                        size: Math.random() * 2 + 1
                    });
                }
            }

            function updateParticles() {
                for (let i = 0; i < particles.length; i++) {
                    let p = particles[i];
                    
                    // Mouse interaction
                    if (mouseX !== null && mouseY !== null) {
                        let dx = mouseX - p.x;
                        let dy = mouseY - p.y;
                        let dist = Math.sqrt(dx * dx + dy * dy);
                        if (dist < mouseRadius) {
                            let force = (mouseRadius - dist) / mouseRadius;
                            p.x -= dx * force * 0.02;
                            p.y -= dy * force * 0.02;
                        }
                    }
                    
                    p.x += p.vx;
                    p.y += p.vy;
                    
                    // Boundary check
                    if (p.x < 0 || p.x > width) p.vx *= -1;
                    if (p.y < 0 || p.y > height) p.vy *= -1;
                    
                    // Keep in bounds
                    p.x = Math.max(0, Math.min(width, p.x));
                    p.y = Math.max(0, Math.min(height, p.y));
                }
            }

            function draw() {
                ctx.clearRect(0, 0, width, height);
                
                // Draw connections
                ctx.strokeStyle = 'rgba(0, 255, 255, 0.3)';
                ctx.lineWidth = 1;
                
                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        let dx = particles[i].x - particles[j].x;
                        let dy = particles[i].y - particles[j].y;
                        let dist = Math.sqrt(dx * dx + dy * dy);
                        
                        if (dist < connectionDistance) {
                            let opacity = (1 - dist / connectionDistance) * 0.5;
                            ctx.beginPath();
                            ctx.strokeStyle = `rgba(0, 255, 255, ${opacity})`;
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.stroke();
                        }
                    }
                }
                
                // Draw particles
                for (let i = 0; i < particles.length; i++) {
                    let p = particles[i];
                    ctx.beginPath();
                    ctx.fillStyle = 'rgba(0, 255, 255, 0.8)';
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Glow effect
                    ctx.shadowColor = 'cyan';
                    ctx.shadowBlur = 10;
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }
            }

            function animate() {
                updateParticles();
                draw();
                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', () => {
                resize();
                particles = [];
                createParticles();
            });

            canvas.addEventListener('mousemove', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouseX = e.clientX - rect.left;
                mouseY = e.clientY - rect.top;
            });

            canvas.addEventListener('mouseleave', () => {
                mouseX = null;
                mouseY = null;
            });

            resize();
            createParticles();
            animate();
        }

        // Initialize plexus on load
        window.onload = function() {
            initPlexus();
        };

        // Auth State
        let isSignUp = false;
        let currentUser = null;
        let allStudentsData = {};

        // Auth Modal Functions
        function showAuthModal() { 
            document.getElementById('auth-modal').classList.add('show'); 
        }
        
        function closeModal() { 
            document.getElementById('auth-modal').classList.remove('show'); 
        }
        
        function toggleAuthMode() {
            isSignUp = !isSignUp;
            document.getElementById('auth-action-btn').innerText = isSignUp ? 'Sign Up' : 'Sign In';
        }

        function handleAuth() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            if (isSignUp) {
                auth.createUserWithEmailAndPassword(email, password)
                    .then(() => { closeModal(); })
                    .catch(error => showPopupMessage(error.message, 'error'));
            } else {
                auth.signInWithEmailAndPassword(email, password)
                    .then(() => { closeModal(); })
                    .catch(error => showPopupMessage(error.message, 'error'));
            }
        }

        // Logout
        function logout() { auth.signOut(); }

        // Auth State Observer
        auth.onAuthStateChanged(user => {
            if (user) {
                currentUser = user;
                document.getElementById('landing-page').classList.add('hidden');
                document.getElementById('main-app').style.display = 'flex';
                loadData();
            } else {
                currentUser = null;
                document.getElementById('landing-page').classList.remove('hidden');
                document.getElementById('main-app').style.display = 'none';
            }
        });

        // Load data from Firestore
        function loadData() {
            db.collection('settings').doc('general').onSnapshot(doc => {
                if (doc.exists) {
                    document.getElementById('total-students-display').innerText = 'üìä ' + (doc.data().totalStudents || '2026 Total Students: 1852');
                }
            });

            db.collection('students').onSnapshot(snapshot => {
                allStudentsData = {};
                snapshot.forEach(doc => {
                    allStudentsData[doc.id] = doc.data();
                });
            });
        }

        // Generate student names for batches
        function generateBatchStudents(batch, count) {
            const firstNames = ['Mohammed', 'Ahmed', 'Abdullah', 'Omar', 'Ali', 'Hassan', 'Hussein', 'Karim', 'Rashid', 'Jamal', 'Amir', 'Bilal', 'Farid', 'Zayn', 'Rayhan', 'Tanvir', 'Shahid', 'Kamal', 'Rafiq', 'Shams', 'Nur', 'Faisal', 'Riyad', 'Hasan', 'Hossain', 'Mahbub', 'Mamun', 'Sohel', 'Rana', 'Shakil', 'Bappi', 'Mithun', 'Rubel', 'Shohag', 'Rony', 'Shahed', 'Tuhin', 'Mintu', 'Babul', 'Kuddus'];
            const lastNames = ['Khan', 'Chowdhury', 'Rahman', 'Ahmed', 'Hossain', 'Islam', 'Miah', 'Sarker', 'Das', 'Paul', 'Roy', 'Singh', 'Ali', 'Akter', 'Begum', 'Khatun', 'Kabir', 'Haque', 'Chakma', 'Marma', 'Tripura'];
            
            let students = [];
            for (let i = 0; i < count; i++) {
                const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
                const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
                const middleInitial = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                students.push(`${firstName} ${middleInitial}. ${lastName} (ID: ${batch}-${String(i+1).padStart(4, '0')})`);
            }
            return students.sort();
        }

        // Pre-generate batch students
        const batchStudents = {
            '301': generateBatchStudents('301', 900),
            '302': generateBatchStudents('302', 300),
            '303': generateBatchStudents('303', 300),
            '304': generateBatchStudents('304', 348),
            '305': ['majedul islam fahad', 'sayid hossain sayem', 'abu talha shamim', 'kamrul hassan sojib']
        };

        // Show batch students
        function showBatchStudents(batch) {
            const container = document.getElementById('student-list-container');
            const grid = document.getElementById('student-grid');
            const title = document.getElementById('batch-title');
            
            const students = batchStudents[batch] || [];
            title.innerText = `üéì Batch ${batch} Students (${students.length})`;
            
            grid.innerHTML = students.map(name => 
                `<div class="student-card" onclick="handleStudentClick('${batch}', '${name}')">${name.toUpperCase()}</div>`
            ).join('');
            
            container.style.display = 'block';
        }

        // Handle student click based on batch
        function handleStudentClick(batch, name) {
            if (batch === '305') {
                // Show detailed info for 305 batch students
                const data = allStudentsData[name] || { 
                    classPoints: Math.floor(Math.random() * 100), 
                    totalPoints: Math.floor(Math.random() * 500), 
                    examMarks: Math.floor(Math.random() * 100), 
                    totalMarks: Math.floor(Math.random() * 500), 
                    notice: 'Regular attendance required. Next exam on March 15, 2026.' 
                };
                
                const popupContent = document.getElementById('popup-content');
                popupContent.innerHTML = `
                    <h2 class="popup-title">üìã ${name.toUpperCase()}</h2>
                    <div class="info-tables">
                        <table>
                            <tr><th colspan="2">Class Points</th></tr>
                            <tr><td>Class Points</td><td>${data.classPoints}</td></tr>
                            <tr><td>Total Points</td><td>${data.totalPoints}</td></tr>
                        </table>
                        <table>
                            <tr><th colspan="2">Exam Marks</th></tr>
                            <tr><td>Exam Marks</td><td>${data.examMarks}</td></tr>
                            <tr><td>Total Marks</td><td>${data.totalMarks}</td></tr>
                        </table>
                        <table>
                            <tr><th>Notice & Reports</th></tr>
                            <tr><td>${data.notice}</td></tr>
                        </table>
                    </div>
                `;
                document.getElementById('popup').classList.add('show');
            } else {
                showPopupMessage(`‚ö†Ô∏è You are not a student of ${batch} batch ‚ö†Ô∏è`, 'error');
            }
        }

        // Show popup message
        function showPopupMessage(msg, type = 'info') {
            const popupContent = document.getElementById('popup-content');
            popupContent.innerHTML = `
                <h2 class="popup-title" style="color: ${type === 'error' ? '#ff4444' : 'cyan'};">${type === 'error' ? '‚ùå' : '‚ÑπÔ∏è'} Message</h2>
                <p style="text-align: center; font-size: 1.2rem; padding: 20px;">${msg}</p>
            `;
            document.getElementById('popup').classList.add('show');
        }

        // Close popup
        function closePopup() {
            document.getElementById('popup').classList.remove('show');
        }

        // Search function
        function searchStudents(query) {
            const resultsDiv = document.getElementById('search-results');
            if (!query) { 
                resultsDiv.style.display = 'none'; 
                return; 
            }
            
            // Search in all batch students
            let allStudents = [];
            for (let batch in batchStudents) {
                allStudents = allStudents.concat(batchStudents[batch].map(name => ({ name, batch })));
            }
            
            const filtered = allStudents.filter(item => 
                item.name.toLowerCase().includes(query.toLowerCase())
            );
            
            if (filtered.length > 0) {
                resultsDiv.innerHTML = filtered.map(item => 
                    `<div class="search-item" onclick="handleStudentClick('${item.batch}', '${item.name}')">${item.name} (Batch ${item.batch})</div>`
                ).join('');
                resultsDiv.style.display = 'block';
            } else {
                resultsDiv.innerHTML = `<div class="search-item" style="color: #ff4444;">‚ùå This name's student data not found‚ÄºÔ∏è</div>`;
                resultsDiv.style.display = 'block';
            }
        }

        // Close search on click outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-container')) {
                document.getElementById('search-results').style.display = 'none';
            }
        });
    </script>
</body>
  </html>
